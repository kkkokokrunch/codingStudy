## HTTP2

http有两个缺点：安全性不足和性能不高。

安全性不足这一缺点已经通过https改进了，所以http2主要改进了他性能不高这一缺点。



### 头部压缩

报文header经常会携带很多的头部字段，但body却可能只有几十字节，所以http2把**头部压缩**作为一个改进的重点。

不过 HTTP/2 并没有使用传统的压缩算法，而是开发了专门的“HPACK”算法，在客户端和服务器两端建立“字典”，用索引号表示重复的字符串，还釆用哈夫曼编码来压缩整数和字符串，可以达到 50%~90% 的高压缩率。



### 二进制格式

http2将报文从ascii码变成了二进制格式。

它把 TCP 协议的部分特性挪到了应用层，把原来的“Header+Body”的消息“打散”为数个小片的二进制“帧”（Frame），用“HEADERS”帧存放头数据、“DATA”帧存放实体数据。



### 虚拟的流